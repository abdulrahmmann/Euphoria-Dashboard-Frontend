<aside class="hidden lg:block fixed top-0 bottom-0 left-0 lg:py-3.5 lg:pl-3.5 cursor-pointer z-50">
  <div [ngClass]="[sidebarExpanded? 'w-[275px]':'w-[91px]',]"
       (mouseenter)="!isPinned && (isHovered = true)"
       (mouseleave)="!isPinned && (isHovered = false)"
       class="sidebar h-full box rounded-none lg:rounded-xl relative duration-300 transition-[width] xl:shadow-[6px_0_12px_-4px_#0000000f] overflow-hidden">

    <!-- Sidebar Header -->
    <header class="flex-none hidden lg:flex items-center z-10 px-5 h-[65px] w-[275px] overflow-hidden relative duration-300 ">
      <div class="flex items-center transition-[margin] duration-300 w-full">
        <div class="flex items-center">
          <div
            [ngClass]="[sidebarExpanded? 'rotate-180 ml-0': 'ml-2']"
            class="flex items-center justify-center w-[34px] rounded-lg h-[34px] transition-transform ease-in-out">
            <div class="w-[16px] h-[16px] relative -rotate-45">
              <div class="absolute w-[21%] left-0 inset-y-0 my-auto rounded-full bg-white opacity-50 h-[75%]"></div>
              <div class="absolute w-[21%] inset-0 m-auto h-[120%] rounded-full bg-white"></div>
              <div class="absolute w-[21%] right-0 inset-y-0 my-auto rounded-full bg-white opacity-50 h-[75%]"></div>
            </div>
          </div>
          <div [ngClass]="sidebarExpanded? 'opacity-100':'opacity-0'"
               class="ml-3.5 transition-opacity text-sm text-white font-medium">Euphoria</div>
        </div>
        <button (click)="togglePin()"
                [ngClass]="[
                  isPinned? 'rotate-180': '',
                  sidebarExpanded? 'opacity-100':'opacity-0']"
                class="hidden transition-all duration-200 2xl:flex items-center justify-center w-[20px] h-[20px] ml-auto">
          <img src="/icons/collapse.svg" alt="collapse" class="opacity-80" />
        </button>
      </div>
    </header>

    <!-- Sidebar Content -->
    <div class="px-5">
      <p-scrollpanel [style]="{ height: 'calc(100vh - 100px)' }">
        <ul>
          <ng-container *ngFor="let section of sidebarSections">
            <!-- Section Title -->
            <li
              [ngClass]="sidebarExpanded? 'text-start font-normal':'text-center font-bold'"
              class="mt-5 mb-3 text-xs text-white/70 uppercase truncate tracking-widest">
              {{ sidebarExpanded ? section.title : '...' }}
            </li>

            <!-- Section Items -->
            <li *ngFor="let item of section.items">
              <a [routerLink]="item.route" routerLinkActive="bg-[#ffffff1a] text-white/90 border-[#ffffff05] shadow-[0_2px_3px_rgba(0,0,0,0.043)]"
                 class="side-menu__link flex items-center group">
                <img
                  [src]="item.icon"
                  alt="{{ item.name }}"
                  class="transition-all size-[18px] opacity-60 group-hover:opacity-90"
                  routerLinkActive="opacity-90"
                  [ngClass]="[sidebarExpanded? 'ml-0':'ml-1.5']"
                />
                <div
                  [ngClass]="[sidebarExpanded? 'opacity-100 w-fit': 'opacity-0 w-0']"
                  routerLinkActive="text-white/90"
                  class="truncate text-sm ml-3 transition-all text-white/60 group-hover:text-white/90 capitalize">
                  {{ item.name }}
                </div>
              </a>
            </li>
          </ng-container>
        </ul>
      </p-scrollpanel>

    </div>
  </div>
</aside>
